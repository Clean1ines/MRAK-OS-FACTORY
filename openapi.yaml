components:
  schemas:
    ArtifactCreate:
      properties:
        artifact_type:
          title: Artifact Type
          type: string
        content:
          title: Content
          type: string
        generate:
          default: false
          title: Generate
          type: boolean
        model:
          anyOf:
          - type: string
          - type: 'null'
          title: Model
        parent_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Parent Id
        project_id:
          title: Project Id
          type: string
      required:
      - project_id
      - artifact_type
      - content
      title: ArtifactCreate
      type: object
    ClarificationSessionResponse:
      properties:
        context_summary:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Context Summary
        created_at:
          title: Created At
          type: string
        final_artifact_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Final Artifact Id
        history:
          items:
            additionalProperties: true
            type: object
          title: History
          type: array
        id:
          title: Id
          type: string
        project_id:
          title: Project Id
          type: string
        status:
          title: Status
          type: string
        target_artifact_type:
          title: Target Artifact Type
          type: string
        updated_at:
          title: Updated At
          type: string
      required:
      - id
      - project_id
      - target_artifact_type
      - history
      - status
      - created_at
      - updated_at
      title: ClarificationSessionResponse
      type: object
    GenerateArtifactRequest:
      properties:
        artifact_type:
          title: Artifact Type
          type: string
        existing_content:
          anyOf:
          - {}
          - type: 'null'
          title: Existing Content
        feedback:
          default: ''
          title: Feedback
          type: string
        model:
          anyOf:
          - type: string
          - type: 'null'
          title: Model
        parent_id:
          title: Parent Id
          type: string
        project_id:
          title: Project Id
          type: string
      required:
      - artifact_type
      - parent_id
      - project_id
      title: GenerateArtifactRequest
      type: object
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          title: Detail
          type: array
      title: HTTPValidationError
      type: object
    MessageRequest:
      properties:
        message:
          title: Message
          type: string
      required:
      - message
      title: MessageRequest
      type: object
    ProjectCreate:
      description: "\u0421\u0445\u0435\u043C\u0430 \u0434\u043B\u044F \u0441\u043E\
        \u0437\u0434\u0430\u043D\u0438\u044F \u043D\u043E\u0432\u043E\u0433\u043E\
        \ \u043F\u0440\u043E\u0435\u043A\u0442\u0430."
      properties:
        description:
          default: ''
          description: Project description
          title: Description
          type: string
        name:
          description: Project name, 1-100 characters
          maxLength: 100
          minLength: 1
          title: Name
          type: string
      required:
      - name
      title: ProjectCreate
      type: object
    ProjectResponse:
      description: "\u0421\u0445\u0435\u043C\u0430 \u0434\u043B\u044F \u043E\u0442\
        \u0432\u0435\u0442\u0430 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438\
        \ \u043F\u0440\u043E\u0435\u043A\u0442\u0430."
      properties:
        created_at:
          anyOf:
          - format: date-time
            type: string
          - type: 'null'
          title: Created At
        description:
          default: ''
          description: Project description
          title: Description
          type: string
        id:
          title: Id
          type: string
        name:
          description: Project name, 1-100 characters
          maxLength: 100
          minLength: 1
          title: Name
          type: string
        updated_at:
          anyOf:
          - format: date-time
            type: string
          - type: 'null'
          title: Updated At
      required:
      - name
      - id
      title: ProjectResponse
      type: object
    ProjectUpdate:
      description: "\u0421\u0445\u0435\u043C\u0430 \u0434\u043B\u044F \u043E\u0431\
        \u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0435\u043A\
        \u0442\u0430 (PUT \u2014 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F \u043E\
        \u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B)."
      properties:
        description:
          default: ''
          description: Project description
          title: Description
          type: string
        name:
          description: Project name, 1-100 characters
          maxLength: 100
          minLength: 1
          title: Name
          type: string
      required:
      - name
      title: ProjectUpdate
      type: object
    SavePackageRequest:
      properties:
        artifact_type:
          title: Artifact Type
          type: string
        content:
          title: Content
        parent_id:
          title: Parent Id
          type: string
        project_id:
          title: Project Id
          type: string
      required:
      - project_id
      - parent_id
      - artifact_type
      - content
      title: SavePackageRequest
      type: object
    StartClarificationRequest:
      properties:
        model:
          anyOf:
          - type: string
          - type: 'null'
          title: Model
        project_id:
          title: Project Id
          type: string
        target_artifact_type:
          title: Target Artifact Type
          type: string
      required:
      - project_id
      - target_artifact_type
      title: StartClarificationRequest
      type: object
    ValidateArtifactRequest:
      properties:
        artifact_id:
          title: Artifact Id
          type: string
        status:
          title: Status
          type: string
      required:
      - artifact_id
      - status
      title: ValidateArtifactRequest
      type: object
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          title: Location
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
      - loc
      - msg
      - type
      title: ValidationError
      type: object
    WorkflowCreate:
      properties:
        description:
          default: ''
          title: Description
          type: string
        is_default:
          default: false
          title: Is Default
          type: boolean
        name:
          title: Name
          type: string
      required:
      - name
      title: WorkflowCreate
      type: object
    WorkflowEdgeCreate:
      properties:
        source_node:
          title: Source Node
          type: string
        source_output:
          default: output
          title: Source Output
          type: string
        target_input:
          default: input
          title: Target Input
          type: string
        target_node:
          title: Target Node
          type: string
      required:
      - source_node
      - target_node
      title: WorkflowEdgeCreate
      type: object
    WorkflowNodeCreate:
      properties:
        config:
          additionalProperties: true
          default: {}
          title: Config
          type: object
        node_id:
          title: Node Id
          type: string
        position_x:
          title: Position X
          type: number
        position_y:
          title: Position Y
          type: number
        prompt_key:
          title: Prompt Key
          type: string
      required:
      - node_id
      - prompt_key
      - position_x
      - position_y
      title: WorkflowNodeCreate
      type: object
    WorkflowNodeUpdate:
      properties:
        config:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Config
        position_x:
          anyOf:
          - type: number
          - type: 'null'
          title: Position X
        position_y:
          anyOf:
          - type: number
          - type: 'null'
          title: Position Y
        prompt_key:
          anyOf:
          - type: string
          - type: 'null'
          title: Prompt Key
      title: WorkflowNodeUpdate
      type: object
    WorkflowUpdate:
      properties:
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        is_default:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Default
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
      title: WorkflowUpdate
      type: object
  securitySchemes:
    HTTPBearer:
      scheme: bearer
      type: http
info:
  title: MRAK-OS Factory API
  version: 0.1.0
openapi: 3.1.0
paths:
  /:
    get:
      description: "Serve frontend index.html for SPA routing.\n\nReturns:\n    FileResponse:\
        \ index.html if exists, else error JSON."
      operationId: serve_frontend__get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Serve Frontend
  /api/analyze:
    post:
      operationId: analyze_api_analyze_post
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Analyze
      tags:
      - modes
  /api/artifact:
    post:
      operationId: create_artifact_api_artifact_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ArtifactCreate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Artifact
      tags:
      - artifacts
  /api/artifact-types:
    get:
      operationId: list_artifact_types_api_artifact_types_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: List Artifact Types
      tags:
      - artifacts
    post:
      operationId: create_artifact_type_endpoint_api_artifact_types_post
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              title: Req
              type: object
        required: true
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Artifact Type Endpoint
      tags:
      - artifacts
  /api/artifact-types/{type}:
    delete:
      operationId: delete_artifact_type_endpoint_api_artifact_types__type__delete
      parameters:
      - in: path
        name: type
        required: true
        schema:
          title: Type
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Artifact Type Endpoint
      tags:
      - artifacts
    get:
      operationId: get_artifact_type_api_artifact_types__type__get
      parameters:
      - in: path
        name: type
        required: true
        schema:
          title: Type
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Artifact Type
      tags:
      - artifacts
    put:
      operationId: update_artifact_type_endpoint_api_artifact_types__type__put
      parameters:
      - in: path
        name: type
        required: true
        schema:
          title: Type
          type: string
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              title: Req
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Update Artifact Type Endpoint
      tags:
      - artifacts
  /api/artifact/{artifact_id}:
    delete:
      operationId: delete_artifact_endpoint_api_artifact__artifact_id__delete
      parameters:
      - in: path
        name: artifact_id
        required: true
        schema:
          title: Artifact Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Artifact Endpoint
      tags:
      - artifacts
  /api/auth/login:
    post:
      description: Login with master key, return session token in JSON
      operationId: login_api_auth_login_post
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              title: Body
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Login
      tags:
      - auth
  /api/auth/logout:
    post:
      description: Logout - client should clear sessionStorage
      operationId: logout_api_auth_logout_post
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Logout
      tags:
      - auth
  /api/auth/session:
    get:
      description: Check current session from Bearer token OR cookie
      operationId: get_session_api_auth_session_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      security:
      - HTTPBearer: []
      summary: Get Session
      tags:
      - auth
  /api/clarification/start:
    post:
      operationId: start_clarification_api_clarification_start_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartClarificationRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClarificationSessionResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Start Clarification
      tags:
      - clarification
  /api/clarification/{session_id}:
    get:
      operationId: get_clarification_session_endpoint_api_clarification__session_id__get
      parameters:
      - in: path
        name: session_id
        required: true
        schema:
          title: Session Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClarificationSessionResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Clarification Session Endpoint
      tags:
      - clarification
  /api/clarification/{session_id}/complete:
    post:
      operationId: complete_clarification_session_api_clarification__session_id__complete_post
      parameters:
      - in: path
        name: session_id
        required: true
        schema:
          title: Session Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Complete Clarification Session
      tags:
      - clarification
  /api/clarification/{session_id}/message:
    post:
      operationId: add_message_api_clarification__session_id__message_post
      parameters:
      - in: path
        name: session_id
        required: true
        schema:
          title: Session Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MessageRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClarificationSessionResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Add Message
      tags:
      - clarification
  /api/generate_artifact:
    post:
      operationId: generate_artifact_endpoint_api_generate_artifact_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateArtifactRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Generate Artifact Endpoint
      tags:
      - artifacts
  /api/latest_artifact:
    get:
      operationId: latest_artifact_api_latest_artifact_get
      parameters:
      - in: query
        name: parent_id
        required: true
        schema:
          title: Parent Id
          type: string
      - in: query
        name: type
        required: true
        schema:
          title: Type
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Latest Artifact
      tags:
      - artifacts
  /api/models:
    get:
      operationId: get_models_api_models_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Get Models
      tags:
      - modes
  /api/modes:
    get:
      operationId: get_available_modes_api_modes_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Get Available Modes
      tags:
      - modes
  /api/projects:
    get:
      description: "\u0412\u043E\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\
        \u043F\u0438\u0441\u043E\u043A \u0432\u0441\u0435\u0445 \u043F\u0440\u043E\
        \u0435\u043A\u0442\u043E\u0432, \u043E\u0442\u0441\u043E\u0440\u0442\u0438\
        \u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043F\u043E \u0434\u0430\
        \u0442\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F (\u0441\u043D\
        \u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435)."
      operationId: list_projects_api_projects_get
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/ProjectResponse'
                title: Response List Projects Api Projects Get
                type: array
          description: Successful Response
      summary: List Projects
      tags:
      - projects
    post:
      description: "\u0421\u043E\u0437\u0434\u0430\u0451\u0442 \u043D\u043E\u0432\u044B\
        \u0439 \u043F\u0440\u043E\u0435\u043A\u0442.\n\n\u041F\u0440\u043E\u0432\u0435\
        \u0440\u044F\u0435\u0442 \u0443\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u043E\
        \u0441\u0442\u044C \u0438\u043C\u0435\u043D\u0438 (\u043D\u0435 \u0434\u043E\
        \u043B\u0436\u043D\u043E \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043E\u0432\
        \u0430\u0442\u044C \u043F\u0440\u043E\u0435\u043A\u0442\u0430 \u0441 \u0442\
        \u0430\u043A\u0438\u043C \u0436\u0435 \u0438\u043C\u0435\u043D\u0435\u043C\
        )."
      operationId: create_project_api_projects_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Project
      tags:
      - projects
  /api/projects/{project_id}:
    delete:
      description: "\u0423\u0434\u0430\u043B\u044F\u0435\u0442 \u043F\u0440\u043E\u0435\
        \u043A\u0442 \u0438 \u0432\u0441\u0435 \u0441\u0432\u044F\u0437\u0430\u043D\
        \u043D\u044B\u0435 \u0441 \u043D\u0438\u043C \u0430\u0440\u0442\u0435\u0444\
        \u0430\u043A\u0442\u044B (\u043A\u0430\u0441\u043A\u0430\u0434\u043D\u043E\
        )."
      operationId: delete_project_api_projects__project_id__delete
      parameters:
      - in: path
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Project
      tags:
      - projects
    get:
      description: "\u0412\u043E\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043F\
        \u0440\u043E\u0435\u043A\u0442 \u043F\u043E \u0435\u0433\u043E ID."
      operationId: get_project_api_projects__project_id__get
      parameters:
      - in: path
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Project
      tags:
      - projects
    put:
      description: "\u041F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E \u043E\u0431\
        \u043D\u043E\u0432\u043B\u044F\u0435\u0442 \u043F\u0440\u043E\u0435\u043A\u0442\
        .\n\n\u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u0442 \u0443\u043D\u0438\
        \u043A\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0438\u043C\u0435\u043D\
        \u0438: \u043D\u043E\u0432\u043E\u0435 \u0438\u043C\u044F \u043D\u0435 \u0434\
        \u043E\u043B\u0436\u043D\u043E \u043F\u0440\u0438\u043D\u0430\u0434\u043B\u0435\
        \u0436\u0430\u0442\u044C \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u043F\
        \u0440\u043E\u0435\u043A\u0442\u0443.\n\u0415\u0441\u043B\u0438 \u043F\u0440\
        \u043E\u0435\u043A\u0442 \u0441 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\
        \u044B\u043C ID \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D, \u0432\u043E\
        \u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 404."
      operationId: update_project_api_projects__project_id__put
      parameters:
      - in: path
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectUpdate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Update Project
      tags:
      - projects
  /api/projects/{project_id}/artifacts:
    get:
      operationId: list_artifacts_api_projects__project_id__artifacts_get
      parameters:
      - in: path
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      - in: query
        name: type
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Type
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: List Artifacts
      tags:
      - artifacts
  /api/projects/{project_id}/clarification/active:
    get:
      operationId: get_active_sessions_api_projects__project_id__clarification_active_get
      parameters:
      - in: path
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Active Sessions
      tags:
      - clarification
  /api/projects/{project_id}/messages:
    get:
      operationId: get_project_messages_api_projects__project_id__messages_get
      parameters:
      - in: path
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Project Messages
      tags:
      - artifacts
  /api/save_artifact_package:
    post:
      operationId: save_artifact_package_api_save_artifact_package_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavePackageRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Save Artifact Package
      tags:
      - artifacts
  /api/validate_artifact:
    post:
      operationId: validate_artifact_api_validate_artifact_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidateArtifactRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Validate Artifact
      tags:
      - artifacts
  /api/workflow/execute_next:
    post:
      operationId: execute_next_step_api_workflow_execute_next_post
      parameters:
      - in: query
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      - in: query
        name: model
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Model
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Execute Next Step
      tags:
      - workflows
  /api/workflow/next:
    get:
      operationId: get_next_step_api_workflow_next_get
      parameters:
      - in: query
        name: project_id
        required: true
        schema:
          title: Project Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Next Step
      tags:
      - workflows
  /api/workflows:
    get:
      operationId: list_workflows_api_workflows_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: List Workflows
      tags:
      - workflows
    post:
      operationId: create_workflow_api_workflows_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkflowCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Workflow
      tags:
      - workflows
  /api/workflows/edges/{edge_record_id}:
    delete:
      operationId: delete_workflow_edge_api_workflows_edges__edge_record_id__delete
      parameters:
      - in: path
        name: edge_record_id
        required: true
        schema:
          title: Edge Record Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Workflow Edge
      tags:
      - workflows
  /api/workflows/nodes/{node_record_id}:
    delete:
      operationId: delete_workflow_node_api_workflows_nodes__node_record_id__delete
      parameters:
      - in: path
        name: node_record_id
        required: true
        schema:
          title: Node Record Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Workflow Node
      tags:
      - workflows
    put:
      operationId: update_workflow_node_api_workflows_nodes__node_record_id__put
      parameters:
      - in: path
        name: node_record_id
        required: true
        schema:
          title: Node Record Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkflowNodeUpdate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Update Workflow Node
      tags:
      - workflows
  /api/workflows/{workflow_id}:
    delete:
      operationId: delete_workflow_api_workflows__workflow_id__delete
      parameters:
      - in: path
        name: workflow_id
        required: true
        schema:
          title: Workflow Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Workflow
      tags:
      - workflows
    get:
      operationId: get_workflow_api_workflows__workflow_id__get
      parameters:
      - in: path
        name: workflow_id
        required: true
        schema:
          title: Workflow Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Workflow
      tags:
      - workflows
    put:
      operationId: update_workflow_api_workflows__workflow_id__put
      parameters:
      - in: path
        name: workflow_id
        required: true
        schema:
          title: Workflow Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkflowUpdate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Update Workflow
      tags:
      - workflows
  /api/workflows/{workflow_id}/edges:
    post:
      operationId: create_workflow_edge_api_workflows__workflow_id__edges_post
      parameters:
      - in: path
        name: workflow_id
        required: true
        schema:
          title: Workflow Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkflowEdgeCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Workflow Edge
      tags:
      - workflows
  /api/workflows/{workflow_id}/nodes:
    post:
      operationId: create_workflow_node_api_workflows__workflow_id__nodes_post
      parameters:
      - in: path
        name: workflow_id
        required: true
        schema:
          title: Workflow Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkflowNodeCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Workflow Node
      tags:
      - workflows
  /health:
    get:
      description: "Health check endpoint for load balancers and monitoring.\nReturns\
        \ {\"status\": \"ok\"} if service is alive.\n\nReturns:\n    dict: Status\
        \ indicator."
      operationId: health_health_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Health
  /{path}:
    get:
      description: "Handle SPA client-side routing: serve index.html for unknown paths.\n\
        \nArgs:\n    path: URL path segment.\n\nReturns:\n    FileResponse or JSON\
        \ error."
      operationId: serve_spa__path__get
      parameters:
      - in: path
        name: path
        required: true
        schema:
          title: Path
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Serve Spa
